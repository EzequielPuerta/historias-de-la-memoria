import{p as b,o as f,s as C,m as y,a as w,i as x,t as l,f as k,g as _,c as p,b as m,d as E}from"./bundle.js";import{C as c,r as V}from"./bundle9.js";import{p as A}from"./bundle10.js";import{V as D}from"./bundle12.js";var G=l('<div class="max-w-sm mx-auto"><!></div> <canvas id="genreAmountChart" width="400" height="400" class="svelte-1dotgg0"></canvas>',1);function N(s,r){b(r,!1),c.register(...V,A);let o=y(0),t,n={labels:[],datasets:[{label:"Cantidad",data:[],backgroundColor:["rgba(255, 99, 132, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderColor:["rgba(255, 99, 132, 1)","rgba(75, 192, 192, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]};f(async()=>{try{const a=await fetch("backend-api/genre-amounts/",{method:"GET"});if(!a.ok)throw new Error("Network response was not ok");const i=await a.json();n.labels=i.map(e=>e.genre),n.datasets[0].data=i.map(e=>e.count),C(o,i.reduce((e,{count:h})=>e+h,0)),g()}catch(a){console.error("Error fetching data:",a)}});function g(){const a=document.getElementById("genreAmountChart").getContext("2d");t&&t.destroy(),t=new c(a,{type:"pie",data:n,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Cantidad de víctimas por sexo"},datalabels:{anchor:"end",align:"end"}}}})}w(()=>{t&&t.destroy()}),x();var d=G(),u=k(d),v=p(u);D(v,{title:"Víctimas totales",get value(){return _(o)}}),m(s,d),E()}var j=l('<div><!> <p class="py-3">Notar que actualmente, la base de datos posee información acerca de <strong>8948</strong> víctimas. La misma se encuentra en constante construcción y revisión.</p></div>');function M(s){var r=j(),o=p(r);N(o,{}),m(s,r)}export{M as default};
